DatabaseAppModel = require('./appmodels').DatabaseAppModel

class UserInfo extends DatabaseAppModel

    @describeModel: ->
        {
            type: @,
            collection: 'userinfo',
            fields: {
                userid: 'string',
                username: 'string',
                subscriptions: { type: 'array', contents: @getModels().Forum.Summary },
                following: { type: 'array', contents: @getModels().User.Summary },
                lastMessageAccessTime: { type: 'number', required: false },
                createdAt: { autoGenerated: true, event: 'created' },
                updatedAt: { autoGenerated: true, event: 'updated' }
            },   
        }
    
    
    constructor: (params) ->
        @subscriptions ?= []
        @following ?= []
        super
        


exports.UserInfo = UserInfo
