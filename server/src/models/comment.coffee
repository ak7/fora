DatabaseModel = require('../common/data/databasemodel').DatabaseModel
models = require('./')

class Comment extends DatabaseModel

    @describeType: {
        type: @,
        collection: 'comments',
        fields: {
            collection: 'string',
            recordid: 'string',
            data: 'object',
            createdBy: { type: models.User.Summary },
            createdAt: { autoGenerated: true, event: 'created' },
            updatedAt: { autoGenerated: true, event: 'updated' }
        },
        canDestroyAll: (params) ->            
            params.recordid
    }
        
    
exports.Comment = Comment
